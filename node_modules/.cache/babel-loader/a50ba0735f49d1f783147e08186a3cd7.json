{"ast":null,"code":"import _asyncToGenerator from\"D:/CURSO JS/REACT/instagram/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/CURSO JS/REACT/instagram/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"D:/CURSO JS/REACT/instagram/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:\\\\CURSO JS\\\\REACT\\\\instagram\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable react/forbid-prop-types */ /* eslint-disable no-unused-vars */import React,{useReducer,useEffect}from\"react\";import Header from\"./header\";import Photos from\"./photos\";import{getUserPhotosByUsername}from\"../../services/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Profile(_ref){var user=_ref.user;var reducer=function reducer(state,newState){return _objectSpread(_objectSpread({},state),newState);};var initialState={profile:{},photosCollection:[],followerCount:0};var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],profile=_useReducer2$.profile,photosCollection=_useReducer2$.photosCollection,followerCount=_useReducer2$.followerCount,dispatch=_useReducer2[1];useEffect(function(){function getProfileInfoAndPhotos(){return _getProfileInfoAndPhotos.apply(this,arguments);}function _getProfileInfoAndPhotos(){_getProfileInfoAndPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var photos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserPhotosByUsername(user.username);case 2:photos=_context.sent;dispatch({profile:user,photosCollection:photos,followerCount:user.followers.length});case 4:case\"end\":return _context.stop();}}},_callee);}));return _getProfileInfoAndPhotos.apply(this,arguments);}getProfileInfoAndPhotos();},[user.username]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{photosCount:photosCollection?photosCollection.length:0,profile:profile,followerCount:followerCount,setFollowerCount:dispatch}),/*#__PURE__*/_jsx(Photos,{photos:photosCollection})]});}","map":{"version":3,"sources":["D:/CURSO JS/REACT/instagram/src/components/profile/index.js"],"names":["React","useReducer","useEffect","Header","Photos","getUserPhotosByUsername","Profile","user","reducer","state","newState","initialState","profile","photosCollection","followerCount","dispatch","getProfileInfoAndPhotos","username","photos","followers","length"],"mappings":"8cAAA,gD,CACA,4C,CACA,mCACA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CAEA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,uBAAT,KAAwC,yBAAxC,C,6IAEA,cAAe,SAASC,CAAAA,OAAT,MAA2B,IAARC,CAAAA,IAAQ,MAARA,IAAQ,CACxC,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,QAAR,wCAA2BD,KAA3B,EAAqCC,QAArC,GAAhB,CACA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,OAAO,CAAE,EADU,CAEnBC,gBAAgB,CAAE,EAFC,CAGnBC,aAAa,CAAE,CAHI,CAArB,CAKA,gBAAiEb,UAAU,CACzEO,OADyE,CAEzEG,YAFyE,CAA3E,0EAASC,OAAT,eAASA,OAAT,CAAkBC,gBAAlB,eAAkBA,gBAAlB,CAAoCC,aAApC,eAAoCA,aAApC,CAAqDC,QAArD,iBAIAb,SAAS,CAAC,UAAM,SACCc,CAAAA,uBADD,+KACd,oKACuBX,CAAAA,uBAAuB,CAACE,IAAI,CAACU,QAAN,CAD9C,QACQC,MADR,eAEEH,QAAQ,CAAC,CACPH,OAAO,CAAEL,IADF,CAEPM,gBAAgB,CAAEK,MAFX,CAGPJ,aAAa,CAAEP,IAAI,CAACY,SAAL,CAAeC,MAHvB,CAAD,CAAR,CAFF,sDADc,0DASdJ,uBAAuB,GACxB,CAVQ,CAUN,CAACT,IAAI,CAACU,QAAN,CAVM,CAAT,CAWA,mBACE,wCACE,KAAC,MAAD,EACE,WAAW,CAAEJ,gBAAgB,CAAGA,gBAAgB,CAACO,MAApB,CAA6B,CAD5D,CAEE,OAAO,CAAER,OAFX,CAGE,aAAa,CAAEE,aAHjB,CAIE,gBAAgB,CAAEC,QAJpB,EADF,cAOE,KAAC,MAAD,EAAQ,MAAM,CAAEF,gBAAhB,EAPF,GADF,CAWD","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable react/forbid-prop-types */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useReducer, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"./header\";\r\nimport Photos from \"./photos\";\r\nimport { getUserPhotosByUsername } from \"../../services/firebase\";\r\n\r\nexport default function Profile({ user }) {\r\n  const reducer = (state, newState) => ({ ...state, ...newState });\r\n  const initialState = {\r\n    profile: {},\r\n    photosCollection: [],\r\n    followerCount: 0,\r\n  };\r\n  const [{ profile, photosCollection, followerCount }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n  useEffect(() => {\r\n    async function getProfileInfoAndPhotos() {\r\n      const photos = await getUserPhotosByUsername(user.username);\r\n      dispatch({\r\n        profile: user,\r\n        photosCollection: photos,\r\n        followerCount: user.followers.length,\r\n      });\r\n    }\r\n    getProfileInfoAndPhotos();\r\n  }, [user.username]);\r\n  return (\r\n    <>\r\n      <Header\r\n        photosCount={photosCollection ? photosCollection.length : 0}\r\n        profile={profile}\r\n        followerCount={followerCount}\r\n        setFollowerCount={dispatch}\r\n      />\r\n      <Photos photos={photosCollection} />\r\n    </>\r\n  );\r\n}\r\nProfile.propTypes = {\r\n  user: PropTypes.shape({\r\n    dateCreated: PropTypes.number.isRequired,\r\n    emailAddress: PropTypes.string.isRequired,\r\n    followers: PropTypes.array.isRequired,\r\n    following: PropTypes.array.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n    userId: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}