{"ast":null,"code":"import _asyncToGenerator from\"D:/CURSO JS/REACT/instagram/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/CURSO JS/REACT/instagram/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\CURSO JS\\\\REACT\\\\instagram\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";/* eslint-disable no-shadow */ /* eslint-disable no-restricted-globals */ /* eslint-disable react/no-unescaped-entities */ /* eslint-disable no-unused-vars */import React,{useContext,useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import FirebaseContext from\"../context/firebase\";import*as ROUTES from\"../constants/routes\";import{firebase,FieldValue}from\"../lib/firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var history=useNavigate();// const { firebase } = useContext(FirebaseContext);\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),emailAddress=_useState2[0],setEmailAddres=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var isInvalid=password===\"\"||emailAddress===\"\";var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return firebase.auth().signInWithEmailAndPassword(emailAddress,password);case 4:history(ROUTES.DASHBOARD);_context.next=12;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setEmailAddres(emailAddress);setPassword(\"\");setError(\"Password or email address is incorrect\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleLogin(_x){return _ref.apply(this,arguments);};}();useEffect(function(){document.title=\"Login - Instagram\";},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container flex justify-center mx-auto max-w-screen-md items-center h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex hidden sm:block\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/iphone-with-profile.jpg\",alt:\"iPhone with Instagram app\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-4/5 m-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center bg-white p-4  border border-gray-primary rounded mb-2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"flex justify-center w-full\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/logo.png\",alt:\"Instagram\",className:\"mt-2 w-6/12 mb-4\"})}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"mb-4 text-xs text-red-primary\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,method:\"POST\",children:[/*#__PURE__*/_jsx(\"input\",{\"aria-label\":\"Enter email Address\",type:\"email\",placeholder:\"Email address\",className:\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\",onChange:function onChange(_ref2){var target=_ref2.target;return setEmailAddres(target.value);},value:emailAddress}),/*#__PURE__*/_jsx(\"input\",{pattern:\"(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\",\"aria-label\":\"Password\",type:\"password\",placeholder:\"Password\",className:\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\",onChange:function onChange(_ref3){var target=_ref3.target;return setPassword(target.value);},value:password}),/*#__PURE__*/_jsx(\"button\",{disabled:isInvalid,type:\"submit\",className:\"bg-blue-medium text-white w-full rounded h-8 font-bold\\n            \".concat(isInvalid&&\"opacity-50\"),children:\"Login\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center flex-col w-full bg-white p-4 border border-gray-primary\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm\",children:[\"\\xBFDon't have account?\",\" \",/*#__PURE__*/_jsx(Link,{to:ROUTES.SIGN_UP,className:\"text-bold text-blue-medium font-bold\",children:\"Sign up\"})]})})]})]});}","map":{"version":3,"sources":["D:/CURSO JS/REACT/instagram/src/pages/login.js"],"names":["React","useContext","useEffect","useState","Link","useNavigate","FirebaseContext","ROUTES","firebase","FieldValue","Login","history","emailAddress","setEmailAddres","password","setPassword","error","setError","isInvalid","handleLogin","event","preventDefault","auth","signInWithEmailAndPassword","DASHBOARD","document","title","target","value","SIGN_UP"],"mappings":"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","sourcesContent":["/* eslint-disable no-shadow */\r\n/* eslint-disable no-restricted-globals */\r\n/* eslint-disable react/no-unescaped-entities */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { firebase, FieldValue } from \"../lib/firebase\";\r\n\r\nexport default function Login() {\r\n  const history = useNavigate();\r\n  // const { firebase } = useContext(FirebaseContext);\r\n\r\n  const [emailAddress, setEmailAddres] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState();\r\n  const isInvalid = password === \"\" || emailAddress === \"\";\r\n\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(emailAddress, password);\r\n      history(ROUTES.DASHBOARD);\r\n    } catch (error) {\r\n      setEmailAddres(emailAddress);\r\n      setPassword(\"\");\r\n      setError(\"Password or email address is incorrect\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = \"Login - Instagram\";\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container flex justify-center mx-auto max-w-screen-md items-center h-screen\">\r\n      <div className=\"flex hidden sm:block\">\r\n        <img\r\n          src=\"/images/iphone-with-profile.jpg\"\r\n          alt=\"iPhone with Instagram app\"\r\n        />\r\n      </div>\r\n      <div className=\"flex flex-col w-4/5 m-1\">\r\n        <div className=\"flex flex-col items-center bg-white p-4  border border-gray-primary rounded mb-2\">\r\n          <h1 className=\"flex justify-center w-full\">\r\n            <img\r\n              src=\"/images/logo.png\"\r\n              alt=\"Instagram\"\r\n              className=\"mt-2 w-6/12 mb-4\"\r\n            />\r\n          </h1>\r\n          {error && <p className=\"mb-4 text-xs text-red-primary\">{error}</p>}\r\n\r\n          <form onSubmit={handleLogin} method=\"POST\">\r\n            <input\r\n              aria-label=\"Enter email Address\"\r\n              type=\"email\"\r\n              placeholder=\"Email address\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setEmailAddres(target.value)}\r\n              value={emailAddress}\r\n            />\r\n            <input\r\n              pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}\"\r\n              aria-label=\"Password\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setPassword(target.value)}\r\n              value={password}\r\n            />\r\n            <button\r\n              disabled={isInvalid}\r\n              type=\"submit\"\r\n              className={`bg-blue-medium text-white w-full rounded h-8 font-bold\r\n            ${isInvalid && \"opacity-50\"}`}\r\n            >\r\n              Login\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"flex justify-center items-center flex-col w-full bg-white p-4 border border-gray-primary\">\r\n          <p className=\"text-sm\">\r\n            Â¿Don't have account?{\" \"}\r\n            <Link\r\n              to={ROUTES.SIGN_UP}\r\n              className=\"text-bold text-blue-medium font-bold\"\r\n            >\r\n              Sign up\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}