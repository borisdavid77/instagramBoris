{"version":3,"file":"static/js/934.afdf8ccd.chunk.js","mappings":"wOAWe,SAASA,IACtB,IAAcC,GAAiBC,EAAAA,EAAAA,YAAWC,EAAAA,GAAlCC,KACAA,GAASC,EAAAA,EAAAA,GAAO,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAcK,KAA/BF,KACAG,GAAaL,EAAAA,EAAAA,YAAWM,EAAAA,GAAxBD,SACFE,GAAUC,EAAAA,EAAAA,MAChB,OACE,mBAAQC,UAAU,+BAAlB,UACE,gBAAKA,UAAU,2CAAf,UACE,iBAAKA,UAAU,wCAAf,WACE,gBAAKA,UAAU,yEAAf,UACE,eAAIA,UAAU,6BAAd,UACE,SAAC,KAAD,CAAMC,GAAIC,EAAAA,GAAkB,aAAW,iBAAvC,UACE,gBACEC,IAAI,mBACJC,IAAI,YACJJ,UAAU,uBAKlB,gBAAKA,UAAU,0DAAf,SACGV,GACC,iCACE,SAAC,KAAD,CAAMW,GAAIC,EAAAA,GAAkB,aAAW,YAAvC,UACE,gBACEF,UAAU,2CACVK,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,UAOE,iBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,0JAKR,mBACEC,KAAK,SACLC,MAAM,WACNC,QAAS,WACPnB,EAASoB,OAAOC,UAChBnB,EAAQI,EAAAA,KAEVgB,UAAW,SAACC,GACQ,UAAdA,EAAMC,MACRxB,EAASoB,OAAOC,UAChBnB,EAAQI,EAAAA,MAVd,UAcE,gBACEF,UAAU,2CACVK,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,UAOE,iBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,kGAIPnB,IACC,gBAAKO,UAAU,mCAAf,UACE,SAAC,KAAD,CAAMC,GAAE,oBAAQR,QAAR,IAAQA,OAAR,EAAQA,EAAM4B,UAAtB,UACE,gBACErB,UAAU,4BACVG,IAAG,iCAAqBV,QAArB,IAAqBA,OAArB,EAAqBA,EAAM4B,SAA3B,QACHjB,IAAG,iBAAKX,QAAL,IAAKA,OAAL,EAAKA,EAAM4B,SAAX,YACHC,QAAS,SAACC,GACRA,EAAEC,OAAOrB,IAAMsB,EAAAA,aAQ3B,iCACE,SAAC,KAAD,CAAMxB,GAAIC,EAAAA,GAAV,UACE,mBACEW,KAAK,SACLb,UAAU,+DAFZ,uBAOF,SAAC,KAAD,CAAMC,GAAIC,EAAAA,GAAV,UACE,mBACEW,KAAK,SACLb,UAAU,sDAFZ,qC,qDCzGX,IAAMyB,EAAqB,+B,8HCInB,SAAS/B,IACtB,OAAoCgC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACQnC,GAASF,EAAAA,EAAAA,YAAWsC,EAAAA,GAApBpC,KAaR,OAXAqC,EAAAA,EAAAA,YAAU,WAAM,wCACd,yGAC2BC,EAAAA,EAAAA,IAAe,OAACtC,QAAD,IAACA,OAAD,EAACA,EAAME,KADjD,+BACSqC,EADT,KAEEJ,EAAcI,GAFhB,4CADc,sBAMd,OAAIvC,QAAJ,IAAIA,GAAAA,EAAME,KANK,WAAD,wBAOZsC,KAED,CAACxC,IAEG,CAAEA,KAAMkC,EAAYC,cAAAA,K,qHCXd,SAASM,IACtB,OACE,iCACE,SAAC,IAAD,KACA,gBAAKlC,UAAU,qDAAf,UACE,iBAAKA,UAAU,8FAAf,WACE,eAAIA,UAAU,6BAAd,UACE,gBACEmC,UAAQ,EACRhC,IAAI,mBACJC,IAAI,YACJJ,UAAU,wBAGd,cAAGA,UAAU,sCAAb,iCAGA,SAAC,KAAD,CACEC,GAAIC,EAAAA,GACJF,UAAU,oDAFZ,+B,+VCpBH,SAAeoC,EAAtB,+CAAO,OAAP,oBAAO,WAAkCf,GAAlC,uFACgBzB,EAAAA,GAAAA,YAElByC,WAAW,SACXC,MAAM,WAAY,KAAMjB,GACxBkB,MALE,cACCC,EADD,yBAOEA,EAAOC,KAAKC,OAAS,GAPvB,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCtB,GAAjC,uFACgBzB,EAAAA,GAAAA,YAElByC,WAAW,SACXC,MAAM,WAAY,KAAMjB,GACxBkB,MALE,cACCC,EADD,yBAOEA,EAAOC,KAAKG,KAAI,SAACC,GAAD,eAAC,UACnBA,EAAKC,QADa,IAErBC,MAAOF,EAAKG,SATT,kEAaA,SAAeC,EAAtB,kC,aAAO,O,oBAAA,WAAuC5B,GAAvC,6FACgBsB,EAAkBtB,GADlC,sCACE5B,EADF,cAEgBG,EAAAA,GAAAA,YAElByC,WAAW,UACXC,MAAM,SAAU,KAAM7C,EAAKyD,QAC3BX,MANE,cAECC,EAFD,yBAOEA,EAAOC,KAAKG,KAAI,SAACC,GAAD,eAAC,UACnBA,EAAKC,QADa,IAErBC,MAAOF,EAAKG,SATT,kEAaA,SAAejB,EAAtB,kC,aAAO,O,oBAAA,WAA+BmB,GAA/B,yFACgBtD,EAAAA,GAAAA,YAElByC,WAAW,SACXC,MAAM,SAAU,KAAMY,GACtBX,MALE,cACCC,EADD,OAMC/C,EAAO+C,EAAOC,KAAKG,KAAI,SAACC,GAAD,eAAC,UACzBA,EAAKC,QADmB,IAE3BC,MAAOF,EAAKG,QART,kBAWEvD,GAXF,kEAeA,SAAe0D,EAAtB,iDAAO,OAAP,oBAAO,WAAoCD,EAAQE,GAA5C,kFACDC,EAAQzD,EAAAA,GAAAA,YAAqByC,WAAW,SAG1CgB,EADED,EAAUV,OAAS,EACbW,EAAMf,MAAM,SAAU,SAAtB,kBAAoCc,GAApC,CAA+CF,KAE/CG,EAAMf,MAAM,SAAU,KAAMY,GANjC,SAQgBG,EAAMC,MAAM,IAAIf,MARhC,cAQCC,EARD,OAUCe,EAAWf,EAAOC,KAAKG,KAAI,SAACnD,GAAD,eAAC,UAC7BA,EAAKqD,QADuB,IAE/BC,MAAOtD,EAAKuD,QAZT,kBAeEO,GAfF,kEAkBA,SAAeC,EAAtB,mDAAO,OAAP,oBAAO,WACLC,EACAC,EACAC,GAHK,0FAKE/D,EAAAA,GAAAA,YAEJyC,WAAW,SACXuB,IAAIH,GACJI,OAAO,CACNT,UAAWO,GACPG,EAAAA,EAAAA,IAAYJ,IACZK,EAAAA,EAAAA,IAAWL,MAZd,kEAgBA,SAAeM,EAAtB,iDAAO,OAAP,oBAAO,WACLC,EACAC,GAFK,+FAIgBtE,EAAAA,GAAAA,YAElByC,WAAW,SACXC,MAAM,WAAY,KAAM2B,GACxB3B,MAAM,YAAa,iBAAkB4B,GACrC3B,MATE,cAICC,EAJD,SAWmBA,EAAOC,KAAKG,KAAI,SAACC,GAAD,eAAC,UACpCA,EAAKC,QAD8B,IAEtCC,MAAOF,EAAKG,QAbT,sBAWEhB,OAXF,MAWa,GAXb,oBAeEA,EAASkB,QAfX,kEAkBA,SAAeiB,EAAtB,mDAAO,OAAP,oBAAO,WACLC,EACAX,EACAE,GAHK,0FAKE/D,EAAAA,GAAAA,YAEJyC,WAAW,SACXuB,IAAIQ,GACJP,OAAO,CACNQ,UAAWV,GACPG,EAAAA,EAAAA,IAAYL,IACZM,EAAAA,EAAAA,IAAWN,MAZd,kEAgBA,SAAea,EAAtB,iDAAO,OAAP,oBAAO,WAAyBpB,EAAQE,GAAjC,2FAEgBxD,EAAAA,GAAAA,YAElByC,WAAW,UACXC,MAAM,SAAU,KAAMc,GACtBb,MANE,cAECC,EAFD,OAQC+B,EAAqB/B,EAAOC,KAAKG,KAAI,SAAC4B,GAAD,eAAC,UACvCA,EAAM1B,QADgC,IAEzCC,MAAOyB,EAAMxB,QAVV,SAa+ByB,QAAQC,IAC1CH,EAAmB3B,IAAnB,mCAAuB,WAAO4B,GAAP,kFACjBG,GAAiB,EACjBH,EAAMI,MAAMC,SAAS3B,KACvByB,GAAiB,GAHE,SAMF5C,EAAgByC,EAAMtB,QANpB,cAMfzD,EANe,OAQb4B,EAAa5B,EAAK,GAAlB4B,SARa,mCASZA,SAAAA,GAAamD,GATD,IASQG,eAAAA,KATR,2CAAvB,wDAdG,cAaCG,EAbD,yBA2BEA,GA3BF,mEA6BA,SAAeC,EAAtB,uDAAO,OAAP,oBAAO,WACLpB,EACAqB,EACAZ,EACAF,EACAe,GALK,iFAUCzB,EACJwB,EACAd,EACAP,GAbG,uBAmBCQ,EACJC,EACAa,EACAtB,GAtBG,oE,mECvJP,SAASuB,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAC3CC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eACjDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAG7B,OAAOH,EAGM,SAASU,EAAevE,GACrC,IAAK,IAAIwE,EAAI,EAAGA,EAAIC,UAAUvD,OAAQsD,IAAK,CACzC,IAAIE,EAAS,MAAQD,UAAUD,GAAKC,UAAUD,GAAK,GACnDA,EAAI,EAAId,EAAQI,OAAOY,IAAS,GAAIC,SAAQ,SAAU/E,IACpD,OAAeI,EAAQJ,EAAK8E,EAAO9E,OAChCkE,OAAOc,0BAA4Bd,OAAOe,iBAAiB7E,EAAQ8D,OAAOc,0BAA0BF,IAAWhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU/E,GAC5JkE,OAAOgB,eAAe9E,EAAQJ,EAAKkE,OAAOK,yBAAyBO,EAAQ9E,OAI/E,OAAOI","sources":["components/header.js","constants/paths.js","hooks/use-user.js","pages/not-found.js","services/firebase.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["/* eslint-disable no-shadow */\r\n/* eslint-disable react-hooks/rules-of-hooks */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { DEFAULT_IMAGE_PATH } from \"../constants/paths\";\r\nimport useUser from \"../hooks/use-user\";\r\n\r\nexport default function Header() {\r\n  const { user: loggedInUser } = useContext(UserContext);\r\n  const { user } = useUser(loggedInUser?.uid);\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const history = useNavigate();\r\n  return (\r\n    <header className=\"h-16 bg-white shadow-md mb-5\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-between h-full ml-6 mr-5\">\r\n          <div className=\"text-gray-700 text-center flex items-center align-items cursor-pointer\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"Instagram logo\">\r\n                <img\r\n                  src=\"/images/logo.png\"\r\n                  alt=\"Instagram\"\r\n                  className=\"mt-2 w-6/12\"\r\n                />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex items-center align-items\">\r\n            {loggedInUser ? (\r\n              <>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                  </svg>\r\n                </Link>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign Out\"\r\n                  onClick={() => {\r\n                    firebase.auth().signOut();\r\n                    history(ROUTES.LOGIN);\r\n                  }}\r\n                  onKeyDown={(event) => {\r\n                    if (event.key === \"Enter\") {\r\n                      firebase.auth().signOut();\r\n                      history(ROUTES.LOGIN);\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n                {user && (\r\n                  <div className=\"flex items-center cursor-pointer\">\r\n                    <Link to={`/p/${user?.username}`}>\r\n                      <img\r\n                        className=\"rounded-full h-7 w-7 flex\"\r\n                        src={`/images/avatars/${user?.username}.jpg`}\r\n                        alt={`${user?.username} profile`}\r\n                        onError={(e) => {\r\n                          e.target.src = DEFAULT_IMAGE_PATH;\r\n                        }}\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Log In\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"font-bold text-sm rounded text-blue-medium w-20 h-8\"\r\n                  >\r\n                    Sign Up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","/* eslint-disable import/prefer-default-export */\r\nexport const DEFAULT_IMAGE_PATH = \"/images/avatars/default.png\";\r\n","/* eslint-disable no-shadow */\nimport { useState, useEffect, useContext } from \"react\";\nimport { getUserByUserId } from \"../services/firebase\";\nimport userContext from \"../context/user\";\n\nexport default function useUser() {\n  const [activeUser, setActiveUser] = useState({});\n  const { user } = useContext(userContext);\n\n  useEffect(() => {\n    async function getUserObjByUserId() {\n      const [response] = await getUserByUserId(user?.uid);\n      setActiveUser(response);\n    }\n\n    if (user?.uid) {\n      getUserObjByUserId();\n    }\n  }, [user]);\n\n  return { user: activeUser, setActiveUser };\n}\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react-hooks/rules-of-hooks */\r\n/* eslint-disable jsx-a11y/anchor-is-valid */\r\n/* eslint-disable react/button-has-type */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport Header from \"../components/header\";\r\n\r\nexport default function notFound() {\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"w-screen h-screen flex justify-center items-center\">\r\n        <div className=\"border border-gray-primary xl-8 rounded w-96 h-56 flex flex-col justify-center items-center\">\r\n          <h1 className=\"flex justify-center w-full\">\r\n            <img\r\n              readOnly\r\n              src=\"/images/logo.png\"\r\n              alt=\"Instagram\"\r\n              className=\"mt-2 w-6/12 mb-4\"\r\n            />\r\n          </h1>\r\n          <p className=\"text-center text-2xl font-bold my-5\">\r\n            404 Page not found\r\n          </p>\r\n          <Link\r\n            to={ROUTES.DASHBOARD}\r\n            className=\"bg-blue-medium\trounded-full px-8 py-2 text-white\"\r\n          >\r\n            TO HOME\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-nested-ternary */\r\n\r\nimport { firebase, arrayUnion, arrayRemove } from \"../lib/firebase\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nexport async function doesUsernameExists(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\nexport async function getUserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", user.userId)\r\n    .get();\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n// get user from the firestore where userId === userId (passed from the auth)\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n\r\n  return user;\r\n}\r\n\r\n// check all conditions before limit results\r\nexport async function getSuggestedProfiles(userId, following) {\r\n  let query = firebase.firestore().collection(\"users\");\r\n\r\n  if (following.length > 0) {\r\n    query = query.where(\"userId\", \"not-in\", [...following, userId]);\r\n  } else {\r\n    query = query.where(\"userId\", \"!=\", userId);\r\n  }\r\n  const result = await query.limit(10).get();\r\n\r\n  const profiles = result.docs.map((user) => ({\r\n    ...user.data(),\r\n    docId: user.id,\r\n  }));\r\n\r\n  return profiles;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  loggedInUserDocId, // currently logged in user document id (karl's profile)\r\n  profileId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(loggedInUserDocId)\r\n    .update({\r\n      following: isFollowingProfile\r\n        ? arrayRemove(profileId)\r\n        : arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function isUserFollowingProfile(\r\n  loggedInUserUsername,\r\n  profileUserId\r\n) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUserUsername) // borisdavid779 (active logged in user)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return response.userId;\r\n}\r\n\r\nexport async function updateFollowedUserFollowers(\r\n  profileDocId, // currently logged in user document id (karl's profile)\r\n  loggedInUserDocId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowingProfile\r\n        ? arrayRemove(loggedInUserDocId)\r\n        : arrayUnion(loggedInUserDocId),\r\n    });\r\n}\r\n\r\nexport async function getPhotos(userId, following) {\r\n  // [5,4,2] => following\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n      // photo.userId = 2\r\n      const user = await getUserByUserId(photo.userId);\r\n      // raphael\r\n      const { username } = user[0];\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n\r\n  return photosWithUserDetails;\r\n}\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  // 1st param: karl's doc id\r\n  // 2nd param: raphael's user id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateLoggedInUserFollowing(\r\n    activeUserDocId,\r\n    profileUserId,\r\n    isFollowingProfile\r\n  );\r\n\r\n  // 1st param: karl's user id\r\n  // 2nd param: raphael's doc id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateFollowedUserFollowers(\r\n    profileDocId,\r\n    followingUserId,\r\n    isFollowingProfile\r\n  );\r\n}\r\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["Header","loggedInUser","useContext","UserContext","user","useUser","uid","firebase","FirebaseContext","history","useNavigate","className","to","ROUTES","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","auth","signOut","onKeyDown","event","key","username","onError","e","target","DEFAULT_IMAGE_PATH","useState","activeUser","setActiveUser","userContext","useEffect","getUserByUserId","response","getUserObjByUserId","notFound","readOnly","doesUsernameExists","collection","where","get","result","docs","length","getUserByUsername","map","item","data","docId","id","getUserPhotosByUsername","userId","getSuggestedProfiles","following","query","limit","profiles","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","arrayRemove","arrayUnion","isUserFollowingProfile","loggedInUserUsername","profileUserId","updateFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","includes","photosWithUserDetails","toggleFollow","activeUserDocId","followingUserId","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}