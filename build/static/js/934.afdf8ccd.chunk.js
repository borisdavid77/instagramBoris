"use strict";(self.webpackChunkinstagram=self.webpackChunkinstagram||[]).push([[934],{3287:function(e,r,t){t.d(r,{Z:function(){return d}});var n=t(2791),s=t(6871),u=t(3504),c=t(2303),o=t(6307),a=t(8155),i=t(3543),l=t(6920),f=t(184);function d(){var e=(0,n.useContext)(o.Z).user,r=(0,l.Z)(null===e||void 0===e?void 0:e.uid).user,t=(0,n.useContext)(c.Z).firebase,d=(0,s.s0)();return(0,f.jsx)("header",{className:"h-16 bg-white shadow-md mb-5",children:(0,f.jsx)("div",{className:"container mx-auto max-w-screen-lg h-full",children:(0,f.jsxs)("div",{className:"flex justify-between h-full ml-6 mr-5",children:[(0,f.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items cursor-pointer",children:(0,f.jsx)("h1",{className:"flex justify-center w-full",children:(0,f.jsx)(u.rU,{to:a.h1,"aria-label":"Instagram logo",children:(0,f.jsx)("img",{src:"/images/logo.png",alt:"Instagram",className:"mt-2 w-6/12"})})})}),(0,f.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items",children:e?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.rU,{to:a.h1,"aria-label":"Dashboard",children:(0,f.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,f.jsx)("button",{type:"button",title:"Sign Out",onClick:function(){t.auth().signOut(),d(a.ym)},onKeyDown:function(e){"Enter"===e.key&&(t.auth().signOut(),d(a.ym))},children:(0,f.jsx)("svg",{className:"w-8 mr-6 text-black-light cursor-pointer",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),r&&(0,f.jsx)("div",{className:"flex items-center cursor-pointer",children:(0,f.jsx)(u.rU,{to:"/p/".concat(null===r||void 0===r?void 0:r.username),children:(0,f.jsx)("img",{className:"rounded-full h-7 w-7 flex",src:"/images/avatars/".concat(null===r||void 0===r?void 0:r.username,".jpg"),alt:"".concat(null===r||void 0===r?void 0:r.username," profile"),onError:function(e){e.target.src=i.h}})})})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.rU,{to:a.ym,children:(0,f.jsx)("button",{type:"button",className:"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8",children:"Log In"})}),(0,f.jsx)(u.rU,{to:a._5,children:(0,f.jsx)("button",{type:"button",className:"font-bold text-sm rounded text-blue-medium w-20 h-8",children:"Sign Up"})})]})})]})})})}},3543:function(e,r,t){t.d(r,{h:function(){return n}});var n="/images/avatars/default.png"},6920:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(5861),s=t(9439),u=t(7757),c=t.n(u),o=t(2791),a=t(7606),i=t(6307);function l(){var e=(0,o.useState)({}),r=(0,s.Z)(e,2),t=r[0],u=r[1],l=(0,o.useContext)(i.Z).user;return(0,o.useEffect)((function(){function e(){return(e=(0,n.Z)(c().mark((function e(){var r,t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.xD)(null===l||void 0===l?void 0:l.uid);case 2:r=e.sent,t=(0,s.Z)(r,1),n=t[0],u(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==l&&void 0!==l&&l.uid&&function(){e.apply(this,arguments)}()}),[l]),{user:t,setActiveUser:u}}},2934:function(e,r,t){t.r(r),t.d(r,{default:function(){return o}});t(2791);var n=t(3504),s=t(8155),u=t(3287),c=t(184);function o(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u.Z,{}),(0,c.jsx)("div",{className:"w-screen h-screen flex justify-center items-center",children:(0,c.jsxs)("div",{className:"border border-gray-primary xl-8 rounded w-96 h-56 flex flex-col justify-center items-center",children:[(0,c.jsx)("h1",{className:"flex justify-center w-full",children:(0,c.jsx)("img",{readOnly:!0,src:"/images/logo.png",alt:"Instagram",className:"mt-2 w-6/12 mb-4"})}),(0,c.jsx)("p",{className:"text-center text-2xl font-bold my-5",children:"404 Page not found"}),(0,c.jsx)(n.rU,{to:s.h1,className:"bg-blue-medium\trounded-full px-8 py-2 text-white",children:"TO HOME"})]})})]})}},7606:function(e,r,t){t.d(r,{zl:function(){return l},dQ:function(){return d},_T:function(){return h},xD:function(){return x},ve:function(){return v},NS:function(){return y},IU:function(){return j},T6:function(){return k},wP:function(){return N},Gm:function(){return C}});var n=t(3433),s=t(9439),u=t(1413),c=t(5861),o=t(7757),a=t.n(o),i=t(6284);t(6226);function l(e){return f.apply(this,arguments)}function f(){return(f=(0,c.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.wC.firestore().collection("users").where("username","==",r).get();case 2:return t=e.sent,e.abrupt("return",t.docs.length>0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return(p=(0,c.Z)(a().mark((function e(r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.wC.firestore().collection("users").where("username","==",r).get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)(a().mark((function e(r){var t,n,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r);case 2:return t=e.sent,n=(0,s.Z)(t,1),c=n[0],e.next=7,i.wC.firestore().collection("photos").where("userId","==",c.userId).get();case 7:return o=e.sent,e.abrupt("return",o.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return w.apply(this,arguments)}function w(){return(w=(0,c.Z)(a().mark((function e(r){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.wC.firestore().collection("users").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r){return g.apply(this,arguments)}function g(){return(g=(0,c.Z)(a().mark((function e(r,t){var s,c,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.wC.firestore().collection("users"),s=t.length>0?s.where("userId","not-in",[].concat((0,n.Z)(t),[r])):s.where("userId","!=",r),e.next=4,s.limit(10).get();case 4:return c=e.sent,o=c.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,r,t){return b.apply(this,arguments)}function b(){return(b=(0,c.Z)(a().mark((function e(r,t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.wC.firestore().collection("users").doc(r).update({following:n?(0,i.Ab)(t):(0,i.vr)(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(a().mark((function e(r,t){var n,c,o,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.wC.firestore().collection("users").where("username","==",r).where("following","array-contains",t).get();case 2:return n=e.sent,c=n.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})),o=(0,s.Z)(c,1),l=o[0],f=void 0===l?{}:l,e.abrupt("return",f.userId);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,r,t){return O.apply(this,arguments)}function O(){return(O=(0,c.Z)(a().mark((function e(r,t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.wC.firestore().collection("users").doc(r).update({followers:n?(0,i.Ab)(t):(0,i.vr)(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r){return I.apply(this,arguments)}function I(){return I=(0,c.Z)(a().mark((function e(r,t){var n,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.wC.firestore().collection("photos").where("userId","in",t).get();case 2:return n=e.sent,s=n.docs.map((function(e){return(0,u.Z)((0,u.Z)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(s.map(function(){var e=(0,c.Z)(a().mark((function e(t){var n,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,t.likes.includes(r)&&(n=!0),e.next=4,x(t.userId);case 4:return s=e.sent,c=s[0].username,e.abrupt("return",(0,u.Z)((0,u.Z)({username:c},t),{},{userLikedPhoto:n}));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}function C(e,r,t,n,s){return P.apply(this,arguments)}function P(){return(P=(0,c.Z)(a().mark((function e(r,t,n,s,u){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,s,r);case 2:return e.next=4,k(n,u,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1413:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(4942);function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}}}]);
//# sourceMappingURL=934.afdf8ccd.chunk.js.map