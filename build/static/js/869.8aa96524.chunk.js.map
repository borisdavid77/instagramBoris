{"version":3,"file":"static/js/869.8aa96524.chunk.js","mappings":"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","sources":["components/header.js","constants/paths.js","hooks/use-user.js","components/post/header.js","components/post/image.js","components/post/actions.js","components/post/add-comment.js","components/post/comments.js","components/post/footer.js","components/post/index.js","components/timeline.js","hooks/use-photos.js","components/sidebar/user.js","context/logged-in-user.js","components/sidebar/suggested-profile.js","components/sidebar/suggestions.js","components/sidebar/index.js","pages/dashboard.js","services/firebase.js"],"sourcesContent":["/* eslint-disable no-shadow */\r\n/* eslint-disable react-hooks/rules-of-hooks */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useContext } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { DEFAULT_IMAGE_PATH } from \"../constants/paths\";\r\nimport useUser from \"../hooks/use-user\";\r\n\r\nexport default function Header() {\r\n  const { user: loggedInUser } = useContext(UserContext);\r\n  const { user } = useUser(loggedInUser?.uid);\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const history = useNavigate();\r\n  return (\r\n    <header className=\"h-16 bg-white shadow-md mb-5\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-between h-full ml-6 mr-5\">\r\n          <div className=\"text-gray-700 text-center flex items-center align-items cursor-pointer\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"Instagram logo\">\r\n                <img\r\n                  src=\"/images/logo.png\"\r\n                  alt=\"Instagram\"\r\n                  className=\"mt-2 w-6/12\"\r\n                />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex items-center align-items\">\r\n            {loggedInUser ? (\r\n              <>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"Dashboard\">\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                  </svg>\r\n                </Link>\r\n\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign Out\"\r\n                  onClick={() => {\r\n                    firebase.auth().signOut();\r\n                    history(ROUTES.LOGIN);\r\n                  }}\r\n                  onKeyDown={(event) => {\r\n                    if (event.key === \"Enter\") {\r\n                      firebase.auth().signOut();\r\n                      history(ROUTES.LOGIN);\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n                {user && (\r\n                  <div className=\"flex items-center cursor-pointer\">\r\n                    <Link to={`/p/${user?.username}`}>\r\n                      <img\r\n                        className=\"rounded-full h-7 w-7 flex\"\r\n                        src={`/images/avatars/${user?.username}.jpg`}\r\n                        alt={`${user?.username} profile`}\r\n                        onError={(e) => {\r\n                          e.target.src = DEFAULT_IMAGE_PATH;\r\n                        }}\r\n                      />\r\n                    </Link>\r\n                  </div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Log In\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"font-bold text-sm rounded text-blue-medium w-20 h-8\"\r\n                  >\r\n                    Sign Up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","/* eslint-disable import/prefer-default-export */\r\nexport const DEFAULT_IMAGE_PATH = \"/images/avatars/default.png\";\r\n","/* eslint-disable no-shadow */\nimport { useState, useEffect, useContext } from \"react\";\nimport { getUserByUserId } from \"../services/firebase\";\nimport userContext from \"../context/user\";\n\nexport default function useUser() {\n  const [activeUser, setActiveUser] = useState({});\n  const { user } = useContext(userContext);\n\n  useEffect(() => {\n    async function getUserObjByUserId() {\n      const [response] = await getUserByUserId(user?.uid);\n      setActiveUser(response);\n    }\n\n    if (user?.uid) {\n      getUserObjByUserId();\n    }\n  }, [user]);\n\n  return { user: activeUser, setActiveUser };\n}\n","/* eslint-disable jsx-a11y/img-redundant-alt */\r\n/* eslint-disable no-shadow */\r\n/* eslint-disable react-hooks/rules-of-hooks */\r\n/* eslint-disable no-unused-vars */\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Header({ username }) {\r\n  return (\r\n    <div className=\"flex h-4 p-4 py-8\">\r\n      <div className=\"flex items-center\">\r\n        <Link to={`/p/${username}`} className=\"flex items-center\">\r\n          <img\r\n            className=\"rounded-full h-8 w-8 flex mr-3\"\r\n            src={`/images/avatars/${username}.jpg`}\r\n            alt={`${username} profile picture`}\r\n          />\r\n          <p className=\"font-semibold\">{username}</p>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nHeader.propTypes = {\r\n  username: PropTypes.string.isRequired,\r\n};\r\n","/* eslint-disable no-unused-vars */\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Image({ src, caption }) {\r\n  return <img src={src} alt={caption} />;\r\n}\r\n\r\nImage.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  caption: PropTypes.string.isRequired,\r\n};\r\n","/* eslint-disable no-shadow */\r\n/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport { firebase, arrayUnion, arrayRemove } from \"../../lib/firebase\";\r\n\r\nexport default function Actions({\r\n  docId,\r\n  totalLikes,\r\n  likedPhoto,\r\n  handleFocus,\r\n}) {\r\n  const {\r\n    user: { uid: userId = \"\" },\r\n  } = useContext(UserContext);\r\n  const [toggleLiked, setToggleLiked] = useState(likedPhoto);\r\n  const [likes, setLikes] = useState(totalLikes);\r\n  const handleToggleLiked = async () => {\r\n    setToggleLiked((toggleLiked) => !toggleLiked);\r\n\r\n    await firebase\r\n      .firestore()\r\n      .collection(\"photos\")\r\n      .doc(docId)\r\n      .update({\r\n        likes: toggleLiked ? arrayRemove(userId) : arrayUnion(userId),\r\n      });\r\n\r\n    setLikes((likes) => (toggleLiked ? likes - 1 : likes + 1));\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between p-4\">\r\n        <div className=\"flex\">\r\n          <svg\r\n            onClick={handleToggleLiked}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                handleToggleLiked();\r\n              }\r\n            }}\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n            className={`w-8 mr-4 select-none cursor-pointer focus:outline-none ${\r\n              toggleLiked ? \"fill-red text-red-primary\" : \"text-black-light\"\r\n            }`}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            />\r\n          </svg>\r\n          <svg\r\n            onClick={handleFocus}\r\n            onKeyDown={(event) => {\r\n              if (event.key === \"Enter\") {\r\n                handleFocus();\r\n              }\r\n            }}\r\n            className=\"w-8 text-black-light select-none cursor-pointer focus:outline-none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            stroke=\"currentColor\"\r\n            tabIndex={0}\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"\r\n            />\r\n          </svg>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 py-0\">\r\n        <p className=\"font-semibold\">\r\n          {likes === 1 ? `${likes} like` : `${likes} likes`}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\nActions.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  totalLikes: PropTypes.number.isRequired,\r\n  likedPhoto: PropTypes.string.isRequired,\r\n  handleFocus: PropTypes.func.isRequired,\r\n};\r\n","/* eslint-disable react/require-default-props */\r\n/* eslint-disable react/forbid-prop-types */\r\n/* eslint-disable no-shadow */\r\n/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FirebaseContext from \"../../context/firebase\";\r\nimport UserContext from \"../../context/user\";\r\nimport { arrayUnion } from \"../../lib/firebase\";\r\n\r\nexport default function AddComment({\r\n  docId,\r\n  comments,\r\n  setComments,\r\n  commentInput,\r\n}) {\r\n  const [comment, setComment] = useState(\"\");\r\n  const { firebase, FieldValue } = useContext(FirebaseContext);\r\n  const {\r\n    user: { displayName },\r\n  } = useContext(UserContext);\r\n\r\n  const handleSubmitComment = (e) => {\r\n    e.preventDefault();\r\n    setComments([{ displayName, comment }, ...comments]);\r\n    setComment(\"\");\r\n    // give me a new Array[]\r\n    // put the new comment in there\r\n    // add the old commment\r\n    // then we have a new Array with the new comment and the older comments\r\n    return firebase\r\n      .firestore()\r\n      .collection(\"photos\")\r\n      .doc(docId)\r\n      .update({ comments: arrayUnion({ displayName, comment }) });\r\n  };\r\n  return (\r\n    <div className=\"border-t border-gray-primary\">\r\n      <form\r\n        className=\"flex justify-between pl-0 pr-5\"\r\n        method=\"POST\"\r\n        onSubmit={(event) =>\r\n          comment.length >= 1\r\n            ? handleSubmitComment(event)\r\n            : event.preventDefault()\r\n        }\r\n      >\r\n        <input\r\n          aria-label=\"Add a comment\"\r\n          autoComplete=\"off\"\r\n          className=\"rounded-lg text-xs text-gray-base w-full mr-3 py-5 px-4\"\r\n          type=\"text\"\r\n          name=\"add-comment\"\r\n          placeholder=\"Add a comment...\"\r\n          value={comment}\r\n          onChange={({ target }) => setComment(target.value)}\r\n          ref={commentInput}\r\n        />\r\n        <button\r\n          className={`text-xs font-bold text-blue-medium ${\r\n            !comment && \"opacity-25\"\r\n          }`}\r\n          type=\"button\"\r\n          disabled={comment.length < 1}\r\n          onClick={handleSubmitComment}\r\n        >\r\n          Post\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nAddComment.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  setComments: PropTypes.func.isRequired,\r\n  commentInput: PropTypes.object,\r\n};\r\n","/* eslint-disable react/forbid-prop-types */\r\n/* eslint-disable no-unused-vars */\r\nimport PropTypes from \"prop-types\";\r\nimport React, { useState } from \"react\";\r\nimport { formatDistance } from \"date-fns\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddComment from \"./add-comment\";\r\n\r\nexport default function Comments({\r\n  docId,\r\n  comments: allComments,\r\n  posted,\r\n  commentInput,\r\n}) {\r\n  const [comments, setComments] = useState(allComments);\r\n  return (\r\n    <>\r\n      <div className=\"p-4 pt-1 pb-4\">\r\n        {comments.length >= 1 && (\r\n          <p className=\"text-sm text-gray-base mb-1 cursor-pointer\">\r\n            View all comments\r\n          </p>\r\n        )}\r\n        {comments.slice(0, 3).map((item) => (\r\n          <p\r\n            key={`${item.comment}-${item.displayName}`}\r\n            className=\"mb-1 text-sm\"\r\n          >\r\n            <Link to={`/p/${item.displayName}`}>\r\n              <span className=\"mr-1 font-semibold\">{item.displayName}</span>\r\n            </Link>\r\n            <span>{item.comment}</span>\r\n          </p>\r\n        ))}\r\n        <p className=\"text-gray-base text-xs uppercase mt-2\">\r\n          {formatDistance(posted, new Date())} ago\r\n        </p>\r\n      </div>\r\n      <AddComment\r\n        docId={docId}\r\n        comments={comments}\r\n        setComments={setComments}\r\n        commentInput={commentInput}\r\n      />\r\n    </>\r\n  );\r\n}\r\nComments.propTypes = {\r\n  docId: PropTypes.string.isRequired,\r\n  comments: PropTypes.array.isRequired,\r\n  posted: PropTypes.number.isRequired,\r\n  commentInput: PropTypes.string.isRequired,\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Footer({ caption, username }) {\r\n  return (\r\n    <div className=\"p-4 pt-0 pb-1 text-sm\">\r\n      <Link to={`/p/${username}`}>\r\n        <span className=\"mr-1 font-semibold\">{username}</span>\r\n      </Link>\r\n      <span className=\"font-normal\">{caption}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nFooter.propTypes = {\r\n  caption: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n};\r\n","/* eslint-disable react/require-default-props */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useRef } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"./header\";\r\nimport Image from \"./image\";\r\nimport Actions from \"./actions\";\r\nimport Comments from \"./comments\";\r\nimport Footer from \"./footer\";\r\n\r\nexport default function Post({ content }) {\r\n  // components\r\n  // => header, image, actions(like & comments icons), footer,comments\r\n  const commentInput = useRef(null);\r\n  const handleFocus = () => commentInput.current.focus();\r\n\r\n  return (\r\n    <div className=\"rounded-lg col-span-4 shadow-xl bg-white mb-7 ml-2 mr-2\">\r\n      <Header username={content.username} />\r\n      <Image src={content.imageSrc} caption={content.caption} />\r\n      <Actions\r\n        docId={content.docId}\r\n        totalLikes={content.likes.length}\r\n        likedPhoto={content.userLikedPhoto}\r\n        handleFocus={handleFocus}\r\n      />\r\n      <Footer caption={content.caption} username={content.username} />\r\n      <Comments\r\n        docId={content.docId}\r\n        comments={content.comments}\r\n        posted={content.dateCreated}\r\n        commentInput={commentInput}\r\n      />\r\n    </div>\r\n  );\r\n}\r\nPost.propTypes = {\r\n  content: PropTypes.shape({\r\n    username: PropTypes.string.isRequired,\r\n    comments: PropTypes.string.isRequired,\r\n    caption: PropTypes.string.isRequired,\r\n    dateCreated: PropTypes.number.isRequired,\r\n    likes: PropTypes.string.isRequired,\r\n    docId: PropTypes.string.isRequired,\r\n    userLikedPhoto: PropTypes.string.isRequired,\r\n    imageSrc: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-nested-ternary */\r\nimport React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport usePhotos from \"../hooks/use-photos\";\r\nimport Post from \"./post/index\";\r\n\r\nexport default function Timeline() {\r\n  // we need to get the logged in user's photos\r\n  const { photos } = usePhotos();\r\n  // on loading the photos, we needd t use react skeleton\r\n  // if we have photos, render them(create a post component)\r\n  // if the user has no photos, tell to create some photos\r\n  return (\r\n    // bg-white rounded-lg pt-2 pb-2\r\n    <div className=\"container col-span-2\">\r\n      {!photos ? (\r\n        <Skeleton count={4} width={640} height={600} className=\"mb-5\" />\r\n      ) : photos && photos.length > 0 ? (\r\n        photos.map((content) => <Post key={content.docID} content={content} />)\r\n      ) : (\r\n        <p className=\"text-center text-2xl\">Following people to see photos</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId, getPhotos } from \"../services/firebase\";\r\n\r\nexport default function usePhotos() {\r\n  const [photos, setPhotos] = useState();\r\n  const {\r\n    user: { uid: userId = \"\" },\r\n  } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getTimlinePhotos() {\r\n      // example [2,3,4] 2 begin raphael\r\n      const [{ following }] = await getUserByUserId(userId);\r\n      let followedUserPhotos = [];\r\n      // do we the user actually follow people ?\r\n      if (following.length > 0) {\r\n        followedUserPhotos = await getPhotos(userId, following);\r\n      }\r\n      // re-arrange array to be newest photos first by dateCreated\r\n      // followedUserPhotos.sort((a, b) => b.dateCreated - a.dateCreated);\r\n      setPhotos(followedUserPhotos);\r\n    }\r\n    getTimlinePhotos();\r\n  }, [userId]);\r\n  return { photos };\r\n}\r\n","/* eslint-disable react/require-default-props */\r\n/* eslint-disable no-unused-vars */\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { DEFAULT_IMAGE_PATH } from \"../../constants/paths\";\r\n\r\nexport default function User({ username, fullName, test }) {\r\n  return !username || !fullName ? (\r\n    <Skeleton count={1} height={61} />\r\n  ) : (\r\n    <Link\r\n      to={`/p/${username}`}\r\n      className=\"grid grid-cols-4 gap-4 mb-6 items-center\"\r\n    >\r\n      <div className=\"flex items-center justify-between col-span-1\">\r\n        {test}\r\n        <img\r\n          className=\"rounded-full w-14 flex mr-3\"\r\n          src={`/images/avatars/${username}.jpg`}\r\n          alt=\"\"\r\n          onError={(e) => {\r\n            e.target.src = DEFAULT_IMAGE_PATH;\r\n          }}\r\n        />\r\n      </div>\r\n      <div className=\"col-span-3\">\r\n        <p className=\"font-bold text-sm\">{username}</p>\r\n        <p className=\"text-sm\">{fullName}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\nUser.whyDidYouRender = true;\r\n\r\nUser.propTypes = {\r\n  username: PropTypes.string,\r\n  fullName: PropTypes.string,\r\n  test: PropTypes.number,\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nconst LoggedInUserContext = createContext(null);\r\nexport default LoggedInUserContext;\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable react/prop-types */\r\n\r\nimport React, { useState, useContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  updateLoggedInUserFollowing,\r\n  updateFollowedUserFollowers,\r\n  getUserByUserId,\r\n} from \"../../services/firebase\";\r\nimport LoggedInUserContext from \"../../context/logged-in-user\";\r\n\r\nexport default function SuggestedProfile({\r\n  profileDocId,\r\n  username,\r\n  profileId,\r\n  userId,\r\n  loggedInUserDocId,\r\n}) {\r\n  const [followed, setFollowed] = useState(false);\r\n  const { setActiveUser } = useContext(LoggedInUserContext);\r\n\r\n  async function handleFollowedUser() {\r\n    setFollowed(true);\r\n    // firebase: create 2 services (functions)\r\n    // update the following array of the logged in user(in this case, my profile)\r\n    await updateLoggedInUserFollowing(loggedInUserDocId, profileId, false);\r\n    // update the followers array of the user who has been foollwed\r\n    await updateFollowedUserFollowers(profileDocId, userId, false);\r\n    const [user] = await getUserByUserId(userId);\r\n    setActiveUser(user);\r\n  }\r\n  return !followed ? (\r\n    <div className=\"flex flex-row items-center align-items justify-between\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <img\r\n          className=\"rounded-full w-8 flex mr-3\"\r\n          src={`/images/avatars/${username}.jpg`}\r\n          alt=\"\"\r\n          onError={(e) => {\r\n            e.target.src = `/images/avatars/default.png`;\r\n          }}\r\n        />\r\n        <Link to={`/p/${username}`}>\r\n          <p className=\"font-semibold text-sm\">{username}</p>\r\n        </Link>\r\n      </div>\r\n      <button\r\n        className=\"text-xs font-semibold text-blue-medium\"\r\n        type=\"button\"\r\n        onClick={handleFollowedUser}\r\n      >\r\n        Follow\r\n      </button>\r\n    </div>\r\n  ) : null;\r\n}\r\nSuggestedProfile.prototypes = {\r\n  profileDocId: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  profileId: PropTypes.string.isRequired,\r\n  userId: PropTypes.string.isRequired,\r\n  loggedInUserDocId: PropTypes.string.isRequired,\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\n/* eslint-disable no-unused-expressions */\r\n/* eslint-disable no-unreachable */\r\n/* eslint-disable react/prop-types */\r\n/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-nested-ternary */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { getSuggestedProfiles } from \"../../services/firebase\";\r\nimport SuggestedProfile from \"./suggested-profile\";\r\n\r\nexport default function Suggestions({ userId, following, loggedInUserDocId }) {\r\n  const [profiles, setProfiles] = useState(null);\r\n\r\n  // go a head and get the suggested protoFiles\r\n  useEffect(() => {\r\n    async function suggestedProfiles() {\r\n      const response = await getSuggestedProfiles(userId, following);\r\n      setProfiles(response);\r\n    }\r\n    if (userId) {\r\n      suggestedProfiles();\r\n    }\r\n  }, [userId]);\r\n  // hint: use the firebase service (call using userId)\r\n  // getSuggestedProfiles\r\n  // call the async function ^^^^ within useEffect\r\n  // store it in state\r\n  // go ahead and render (wait on the profiles as in 'skeleton')\r\n\r\n  return !profiles ? (\r\n    <Skeleton count={1} height={150} className=\"mt-5\" />\r\n  ) : profiles.length > 0 ? (\r\n    <div className=\"rounded flex flex-col\">\r\n      <div className=\"text-sm flex items-center align-items justify-between mb-1\">\r\n        <p className=\"font-bold text-gray-base\">Seggestions for you</p>\r\n      </div>\r\n      <div className=\"mt-4 grid gap-5\">\r\n        {profiles.map((profile) => (\r\n          <SuggestedProfile\r\n            key={profile.docId}\r\n            profileDocId={profile.docId}\r\n            username={profile.username}\r\n            profileId={profile.userId}\r\n            userId={userId}\r\n            loggedInUserDocId={loggedInUserDocId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\nSuggestions.prototypes = {\r\n  userId: PropTypes.string,\r\n  following: PropTypes.array,\r\n  loggedInUserDocId: PropTypes.string,\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useContext, memo } from \"react\";\r\nimport User from \"./user\";\r\nimport Suggestions from \"./suggestions\";\r\nimport LoggedInUserContext from \"../../context/logged-in-user\";\r\n\r\nexport default function Sidebar() {\r\n  const { user: { docId = \"\", fullName, username, userId, following } = {} } =\r\n    useContext(LoggedInUserContext);\r\n  // const [test, setTest] = React.useState(0);\r\n  // <button type=\"button\" onClick={() => {console.log(test);setTest(Math.random());}}>Click me</button>\r\n\r\n  return (\r\n    <div className=\"p-4 ml-5 mr-5 sm:ml-0 sm:mr-1\">\r\n      <User username={username} fullName={fullName} />\r\n      <Suggestions\r\n        userId={userId}\r\n        following={following}\r\n        loggedInUserDocId={docId}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable react/require-default-props */\r\n/* eslint-disable react/jsx-no-constructed-context-values */\r\n/* eslint-disable react/forbid-prop-types */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Header from \"../components/header\";\r\nimport Timeline from \"../components/timeline\";\r\nimport Sidebar from \"../components/sidebar\";\r\nimport useUser from \"../hooks/use-user\";\r\nimport LoggedInUserContext from \"../context/logged-in-user\";\r\n\r\nexport default function Dashboard({ user: loggedInUser }) {\r\n  const { user, setActiveUser } = useUser(loggedInUser?.uid);\r\n  useEffect(() => {\r\n    document.title = \"Instagram\";\r\n  }, []);\r\n  return (\r\n    <LoggedInUserContext.Provider value={{ user, setActiveUser }}>\r\n      <div className=\"bg-gray-background\">\r\n        <Header />\r\n        <div className=\"sm:grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg\">\r\n          <Timeline />\r\n          <Sidebar />\r\n        </div>\r\n      </div>\r\n    </LoggedInUserContext.Provider>\r\n  );\r\n}\r\nDashboard.propTypes = {\r\n  user: PropTypes.string,\r\n};\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-nested-ternary */\r\n\r\nimport { firebase, arrayUnion, arrayRemove } from \"../lib/firebase\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nexport async function doesUsernameExists(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\nexport async function getUserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", user.userId)\r\n    .get();\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n// get user from the firestore where userId === userId (passed from the auth)\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n\r\n  return user;\r\n}\r\n\r\n// check all conditions before limit results\r\nexport async function getSuggestedProfiles(userId, following) {\r\n  let query = firebase.firestore().collection(\"users\");\r\n\r\n  if (following.length > 0) {\r\n    query = query.where(\"userId\", \"not-in\", [...following, userId]);\r\n  } else {\r\n    query = query.where(\"userId\", \"!=\", userId);\r\n  }\r\n  const result = await query.limit(10).get();\r\n\r\n  const profiles = result.docs.map((user) => ({\r\n    ...user.data(),\r\n    docId: user.id,\r\n  }));\r\n\r\n  return profiles;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  loggedInUserDocId, // currently logged in user document id (karl's profile)\r\n  profileId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(loggedInUserDocId)\r\n    .update({\r\n      following: isFollowingProfile\r\n        ? arrayRemove(profileId)\r\n        : arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function isUserFollowingProfile(\r\n  loggedInUserUsername,\r\n  profileUserId\r\n) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUserUsername) // borisdavid779 (active logged in user)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return response.userId;\r\n}\r\n\r\nexport async function updateFollowedUserFollowers(\r\n  profileDocId, // currently logged in user document id (karl's profile)\r\n  loggedInUserDocId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowingProfile\r\n        ? arrayRemove(loggedInUserDocId)\r\n        : arrayUnion(loggedInUserDocId),\r\n    });\r\n}\r\n\r\nexport async function getPhotos(userId, following) {\r\n  // [5,4,2] => following\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n      // photo.userId = 2\r\n      const user = await getUserByUserId(photo.userId);\r\n      // raphael\r\n      const { username } = user[0];\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n\r\n  return photosWithUserDetails;\r\n}\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  // 1st param: karl's doc id\r\n  // 2nd param: raphael's user id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateLoggedInUserFollowing(\r\n    activeUserDocId,\r\n    profileUserId,\r\n    isFollowingProfile\r\n  );\r\n\r\n  // 1st param: karl's user id\r\n  // 2nd param: raphael's doc id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateFollowedUserFollowers(\r\n    profileDocId,\r\n    followingUserId,\r\n    isFollowingProfile\r\n  );\r\n}\r\n"],"names":["Header","loggedInUser","useContext","UserContext","user","useUser","uid","firebase","FirebaseContext","history","useNavigate","className","to","ROUTES","src","alt","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","title","onClick","auth","signOut","onKeyDown","event","key","username","onError","e","target","DEFAULT_IMAGE_PATH","useState","activeUser","setActiveUser","userContext","useEffect","getUserByUserId","response","getUserObjByUserId","Image","caption","Actions","docId","totalLikes","likedPhoto","handleFocus","userId","toggleLiked","setToggleLiked","likes","setLikes","handleToggleLiked","collection","doc","update","arrayRemove","arrayUnion","tabIndex","AddComment","comments","setComments","commentInput","comment","setComment","displayName","FieldValue","handleSubmitComment","preventDefault","firestore","method","onSubmit","length","autoComplete","name","placeholder","value","onChange","ref","disabled","Comments","allComments","posted","slice","map","item","formatDistance","Date","Footer","Post","content","useRef","imageSrc","userLikedPhoto","current","focus","dateCreated","Timeline","photos","setPhotos","following","followedUserPhotos","getPhotos","getTimlinePhotos","usePhotos","docID","count","width","height","User","fullName","test","whyDidYouRender","createContext","SuggestedProfile","profileDocId","profileId","loggedInUserDocId","followed","setFollowed","LoggedInUserContext","updateLoggedInUserFollowing","updateFollowedUserFollowers","Suggestions","profiles","setProfiles","getSuggestedProfiles","suggestedProfiles","profile","Sidebar","prototypes","PropTypes","Dashboard","document","doesUsernameExists","where","get","result","docs","getUserByUsername","data","id","getUserPhotosByUsername","query","limit","isFollowingProfile","isUserFollowingProfile","loggedInUserUsername","profileUserId","followers","userFollowedPhotos","photo","Promise","all","includes","photosWithUserDetails","toggleFollow","activeUserDocId","followingUserId"],"sourceRoot":""}