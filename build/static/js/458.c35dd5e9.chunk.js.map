{"version":3,"file":"static/js/458.c35dd5e9.chunk.js","mappings":"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","sources":["pages/sign-up.js","services/firebase.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["/* eslint-disable import/named */\r\n/* eslint-disable no-shadow */\r\n/* eslint-disable no-restricted-globals */\r\n/* eslint-disable react/no-unescaped-entities */\r\n/* eslint-disable no-unused-vars */\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport { doesUsernameExists } from \"../services/firebase\";\r\nimport \"firebase/compat/auth\";\r\nimport { firebase, FieldValue } from \"../lib/firebase\";\r\n\r\nexport default function SignUp() {\r\n  const history = useNavigate();\r\n  // const { firebase } = useContext(FirebaseContext);\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [emailAddress, setEmailAddress] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const isInvalid = password === \"\" || emailAddress === \"\";\r\n\r\n  const handleSignUp = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const usernameExists = await doesUsernameExists(username);\r\n    console.log(\"usernameExists\", usernameExists);\r\n\r\n    if (!usernameExists) {\r\n      try {\r\n        const createdUserResult = await firebase\r\n          .auth()\r\n          .createUserWithEmailAndPassword(emailAddress, password);\r\n\r\n        // authentication\r\n        // -> emailAddress & password & username (displayName)\r\n        await createdUserResult.user.updateProfile({\r\n          displayName: username,\r\n        });\r\n\r\n        // firebase user collection (create a document)\r\n        await firebase\r\n          .firestore()\r\n          .collection(\"users\")\r\n          .add({\r\n            userId: createdUserResult.user.uid,\r\n            username: username.toLowerCase(),\r\n            fullName,\r\n            emailAddress: emailAddress.toLowerCase(),\r\n            following: [\"2\"],\r\n            followers: [],\r\n            dateCreated: Date.now(),\r\n          });\r\n\r\n        history(ROUTES.DASHBOARD);\r\n      } catch (error) {\r\n        setFullName(\"\");\r\n        setEmailAddress(\"\");\r\n        setPassword(\"\");\r\n        setError(error.message);\r\n      }\r\n    } else {\r\n      setUsername(\"\");\r\n      setError(\"That username is already taken, please try another.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = \"Sign Up - Instagram\";\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container flex justify-center mx-auto max-w-screen-md items-center h-screen\">\r\n      <div className=\"flex w-3/5 hidden sm:block\">\r\n        <img\r\n          src=\"/images/iphone-with-profile.jpg\"\r\n          alt=\"iPhone with Instagram app\"\r\n        />\r\n      </div>\r\n      <div className=\"flex flex-col w-4/5 sm:w-2/5\">\r\n        <div className=\"flex flex-col items-center bg-white p-4 border border-gray-primary mb-4 rounded\">\r\n          <h1 className=\"flex justify-center w-full\">\r\n            <img\r\n              src=\"/images/logo.png\"\r\n              alt=\"Instagram\"\r\n              className=\"mt-2 w-6/12 mb-4\"\r\n            />\r\n          </h1>\r\n\r\n          {error && <p className=\"mb-4 text-xs text-red-primary\">{error}</p>}\r\n\r\n          <form onSubmit={handleSignUp} method=\"POST\">\r\n            <input\r\n              aria-label=\"Enter your username\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setUsername(target.value)}\r\n              value={username}\r\n            />\r\n            <input\r\n              aria-label=\"Enter your full name\"\r\n              type=\"text\"\r\n              placeholder=\"Full name\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setFullName(target.value)}\r\n              value={fullName}\r\n            />\r\n            <input\r\n              aria-label=\"Enter your email address\"\r\n              type=\"text\"\r\n              placeholder=\"Email address\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setEmailAddress(target.value)}\r\n              value={emailAddress}\r\n            />\r\n            <input\r\n              aria-label=\"Enter your password\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2\"\r\n              onChange={({ target }) => setPassword(target.value)}\r\n              value={password}\r\n            />\r\n            <button\r\n              disabled={isInvalid}\r\n              type=\"submit\"\r\n              className={`bg-blue-medium text-white w-full rounded h-8 font-bold\r\n            ${isInvalid && \"opacity-50\"}`}\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"flex justify-center items-center flex-col w-full bg-white p-4 rounded border border-gray-primary\">\r\n          <p className=\"text-sm\">\r\n            Â¿Have an account?{` `}\r\n            <Link to={ROUTES.LOGIN} className=\"font-bold text-blue-medium\">\r\n              Login\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-nested-ternary */\r\n\r\nimport { firebase, arrayUnion, arrayRemove } from \"../lib/firebase\";\r\nimport \"firebase/compat/firestore\";\r\n\r\nexport async function doesUsernameExists(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.length > 0;\r\n}\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\nexport async function getUserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"==\", user.userId)\r\n    .get();\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n// get user from the firestore where userId === userId (passed from the auth)\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"userId\", \"==\", userId)\r\n    .get();\r\n  const user = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n\r\n  return user;\r\n}\r\n\r\n// check all conditions before limit results\r\nexport async function getSuggestedProfiles(userId, following) {\r\n  let query = firebase.firestore().collection(\"users\");\r\n\r\n  if (following.length > 0) {\r\n    query = query.where(\"userId\", \"not-in\", [...following, userId]);\r\n  } else {\r\n    query = query.where(\"userId\", \"!=\", userId);\r\n  }\r\n  const result = await query.limit(10).get();\r\n\r\n  const profiles = result.docs.map((user) => ({\r\n    ...user.data(),\r\n    docId: user.id,\r\n  }));\r\n\r\n  return profiles;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  loggedInUserDocId, // currently logged in user document id (karl's profile)\r\n  profileId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(loggedInUserDocId)\r\n    .update({\r\n      following: isFollowingProfile\r\n        ? arrayRemove(profileId)\r\n        : arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function isUserFollowingProfile(\r\n  loggedInUserUsername,\r\n  profileUserId\r\n) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .where(\"username\", \"==\", loggedInUserUsername) // borisdavid779 (active logged in user)\r\n    .where(\"following\", \"array-contains\", profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n  return response.userId;\r\n}\r\n\r\nexport async function updateFollowedUserFollowers(\r\n  profileDocId, // currently logged in user document id (karl's profile)\r\n  loggedInUserDocId, // the user that karl requests to follow\r\n  isFollowingProfile // true/false (am i currently following this person?)\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection(\"users\")\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowingProfile\r\n        ? arrayRemove(loggedInUserDocId)\r\n        : arrayUnion(loggedInUserDocId),\r\n    });\r\n}\r\n\r\nexport async function getPhotos(userId, following) {\r\n  // [5,4,2] => following\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection(\"photos\")\r\n    .where(\"userId\", \"in\", following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n      // photo.userId = 2\r\n      const user = await getUserByUserId(photo.userId);\r\n      // raphael\r\n      const { username } = user[0];\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n\r\n  return photosWithUserDetails;\r\n}\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  // 1st param: karl's doc id\r\n  // 2nd param: raphael's user id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateLoggedInUserFollowing(\r\n    activeUserDocId,\r\n    profileUserId,\r\n    isFollowingProfile\r\n  );\r\n\r\n  // 1st param: karl's user id\r\n  // 2nd param: raphael's doc id\r\n  // 3rd param: is the user following this profile? e.g. does karl follow raphael? (true/false)\r\n  await updateFollowedUserFollowers(\r\n    profileDocId,\r\n    followingUserId,\r\n    isFollowingProfile\r\n  );\r\n}\r\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["SignUp","history","useNavigate","useState","username","setUsername","fullName","setFullName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignUp","e","preventDefault","doesUsernameExists","usernameExists","console","log","firebase","createUserWithEmailAndPassword","createdUserResult","user","updateProfile","displayName","collection","add","userId","uid","toLowerCase","following","followers","dateCreated","Date","now","ROUTES","message","useEffect","document","title","className","src","alt","onSubmit","method","type","placeholder","onChange","target","value","disabled","to","where","get","result","docs","length","getUserByUsername","map","item","data","docId","id","getUserPhotosByUsername","getUserByUserId","getSuggestedProfiles","query","limit","profiles","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","arrayRemove","arrayUnion","isUserFollowingProfile","loggedInUserUsername","profileUserId","response","updateFollowedUserFollowers","profileDocId","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","includes","photosWithUserDetails","toggleFollow","activeUserDocId","followingUserId","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}